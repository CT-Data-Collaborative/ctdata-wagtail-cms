{% load wagtailcore_tags wagtailimages_tags %}

{# Individual event item in a list - used on event index and home page #}
<div class="media">
    <div class="media-body">
        <h4 class="media-heading">Event Name: <a href="{% pageurl event.item %}">{{ event.title }}</a></h4>
        <p>{{ event.date }}</p>
        <h4>Sessions:</h4>
        {% for i in event.resource_items %}
            <section style="padding-top: 1rem; padding-left:1rem">
                <h5>{{ i.title }}</h5>
                    {% for r in i.items %}
                        <div>
                            {% if r.description %}
                                {% for l in r.items %}
                                     {% if l.type == 'link' %}
                                        {{ r.title }}, <a href="{{ l.link }}">{{ r.description }} <i class="fa fa-link"></i></a>
                                    {% elif l.type == 'external' %}
                                        {{ r.title }}, <a href="{{ l.link }}">{{ r.description }} <i class="fa fa-external-link"></i></a>
                                    {% elif l.type == 'document' %}
                                        {{ r.title }}, <a href="{{ l.link }}">{{ r.description }} <i class="fa fa-file"></i></a>
                                    {% endif %}
                                {% endfor %}
                            {% else %}
                                {% for l in r.items %}
                                    {% if l.type == 'link' %}
                                        <a href="{{ l.link }}">{{ r.title }} <i class="fa fa-link"></i></a>
                                    {% elif l.type == 'external' %}
                                        <a href="{{ l.link }}">{{ r.title }} <i class="fa fa-external-link"></i></a>
                                    {% elif l.type == 'document' %}
                                        <a href="{{ l.link }}">{{ r.title }} <i class="fa fa-file"></i></a>
                                    {% endif %}
                                {% endfor %}
                            {% endif %}
                        </div>
                    {% endfor %}
            </section>
        {% endfor %}
    </div>
</div>
